<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<h4>문의수</h4><h4 th:text="${plist.size()}"></h4>
<div>
    <span th:if="${plist.isEmpty()}">해당 상품에는 문의가 없습니다.</span>
    <ul th:unless="${plist.isEmpty()}">
        <li th:each="p:${plist}">
            <p th:text="${p.getCommonCodeDto().getDetName()}">문의유형</p>
            <p th:text="${p.getPInquiryId()}">문의ID</p>
            <p th:text="${p.getUser().getUname()}">사용자이름</p>
            <p th:text="${p.getOptionProductDto().getOpname()}">옵션</p>
            <p th:text="${p.getRegDate()}">문의작성일</p>
            <p th:text="${p.getTitle()}">문의제목</p>
            <p th:text="${p.getContent()}">문의내용</p>
            <th:block th:if="${p.getReply() != null}">
                <p th:text="${p.getReply()}">답글</p>
                <p th:text="${p.getReplyDate()}">답글작성일</p>
            </th:block>
            <button type="button"
                    th:onclick=|removePInquiryWindow(${p.PInquiryId})|
                    th:if="${session.loginUser != null and session.loginUser.userId == p.userId}">삭제</button>
        </li>
    </ul>
    <!--페이지네이션-->
    <nav>
        <ul class="uk-pagination uk-flex-center">
            <th:block th:if="${paging.startPage>1}">
                <li>
                    <a th:href="@{${paging.queryString}(page=${paging.prevPage})}"><span uk-pagination-previous></span></a>
                </li>
                <li>
                    <a th:href="@{${paging.queryString}(page=1)}">1</a>
                </li>
                <li>...</li>
            </th:block>
            <li th:each="i:${#numbers.sequence(paging.startPage, paging.endPage)}"
                th:classappend="${(i==paging.page)?'uk-disabled':''}">
                <a th:href="@{${paging.queryString}(page=${i})}"
                   th:classappend="${(i==paging.page)?'uk-text-primary uk-text-bold':''}" th:text="${i}"></a>
            </li>
            <th:block th:if="${paging.endPage<paging.totalPages}">
                <li>...</li>
                <li>
                    <a th:href="@{${paging.queryString}(page=${paging.totalPages})}"
                       th:text="${paging.totalPages}"></a>
                </li>
                <li>
                    <a th:href="@{${paging.queryString}(page=${paging.nextPage})}"><span uk-pagination-next></span></a>
                </li>
            </th:block>
        </ul>
    </nav>
    <!--페이지네이션end-->
</div>
</html>
